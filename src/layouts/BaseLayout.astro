---
import siteMetadata from '../../data/siteMetadata.js';
import '../styles/global.css';

interface Props {
  title?: string;
  description?: string;
}

const { title = siteMetadata.title, description = siteMetadata.description } = Astro.props;
---

<!DOCTYPE html>
<html lang={siteMetadata.language} class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="icon" type="image/x-icon" href="/static/favicons/favicon.ico" />

    <!-- Inline theme script to prevent FOUC -->
    <script is:inline>
      (function() {
        function getCookie(name) {
          const value = `; ${document.cookie}`;
          const parts = value.split(`; ${name}=`);
          if (parts.length === 2) return parts.pop().split(';').shift();
          return null;
        }
        const theme = getCookie('theme') || 'light';
        if (theme === 'dark') {
          document.documentElement.classList.add('dark');
        }
      })();
    </script>

    <!-- Theme toggle functionality -->
    <script is:inline src="/scripts/theme.js"></script>
  </head>
  <body class="bg-white text-black antialiased dark:bg-gray-950 dark:text-white">
    <section class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0">
      <div class="flex h-screen flex-col justify-between font-sans">
        <slot name="header" />
        <main class="mb-auto">
          <slot />
        </main>
        <slot name="footer" />
      </div>
    </section>
  </body>
</html>
